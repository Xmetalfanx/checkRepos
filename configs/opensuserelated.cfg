

# vars for what sed removes
# assigns result variables to store package version 
function assign_variables() {
    beginning_removal="$package-"
    ending_removal=".x86_64"

    openSUSE_oss_result=$(curl -Ls "${openSUSE_oss_repo}" | grep -m1 "${package}" | sed 's/^.*'${beginning_removal}'//;s/'${ending_removal}'.*$//' )
    
    openSUSE_nonoss_result=$(curl -Ls "${openSUSE_nonoss_repo}" | grep -m1 "${package}" | sed 's/^.*'${beginning_removal}'//;s/'${ending_removal}'.*$//')

}

# finds the package (if there)
function find_package() {
    assign_variables

    [ -z "${openSUSE_nonoss_result}" ] && echo -e "Package ${package} not found in ${openSUSE_branch} non-opensource repo" || echo -e "Non-OpenSource Repo Result: ${openSUSE_nonoss_result}"
    
    [ -z "${openSUSE_oss_result}" ] && echo -e "Package ${package} not found in ${openSUSE_branch} opensource repo" || echo -e "OpenSource Repo Result: ${openSUSE_oss_result}" 

}

function get_openSUSE_repo_urls() {
    openSUSE_branch="${1}"
    package="${2}"

    openSUSE_oss_repo="https://download.opensuse.org/${openSUSE_branch}/repo/oss/x86_64/"
    openSUSE_nonoss_repo="https://download.opensuse.org/${openSUSE_branch}/repo/non-oss/x86_64/"

    find_package
}

clear

get_openSUSE_repo_urls "leap155" "MozillaFirefox"
get_openSUSE_repo_urls "tumbleweed" "MozillaFirefox"

